{"version":3,"sources":["webpack:///./src/database.js","webpack:///src/components/Messages.vue","webpack:///./src/components/Messages.vue?ad80","webpack:///./src/components/Messages.vue","webpack:///src/components/NewMessage.vue","webpack:///./src/components/NewMessage.vue?a92a","webpack:///./src/components/NewMessage.vue","webpack:///src/App.vue","webpack:///./src/const.js","webpack:///./src/App.vue?7e78","webpack:///./src/App.vue","webpack:///./src/store/modules/auth.js","webpack:///./src/store/modules/messageForm.js","webpack:///./src/store/index.js","webpack:///./src/main.js"],"names":["window","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","database","getDBRef","documentName","ref","Messages","name","data","messages","computed","extends_default","messagesList","values_default","this","filter","message","Object","vuex_esm","messageIdForEditMode","state","messageForm","id","auth","methods","deleteMessage","_ref","child","remove","openEditMessageMode","_ref2","updateFormData","text","document","getElementById","focus","cancelEditMessageMode","resetFormData","created","_this","on","snapshot","defineProperty_default","key","val","setTimeout","messagesEl","scrollTop","scrollHeight","components_Messages","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","length","_l","timestamp","class","isReply","isSender","_v","_s","charAt","_e","edit","trim","icon","click","$event","preventDefault","_m","staticRenderFns","role","src_components_Messages","__webpack_require__","normalizeComponent","ssrContext","NewMessage","get","$store","set","value","saveNewMessage","push","Date","now","error","Error","updateMessage","_this2","update","updatedAt","handleInputKeypress","event","handleFormSubmit","components_NewMessage","submit","directives","rawName","expression","placeholder","rows","domProps","keypress","input","target","composing","type","App","components","NewMessage_normalizeComponent","localStorage","getItem","sweetalert2_all_default","a","fire","title","inputValue","inputValidator","then","response","setName","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","Vue","use","Vuex","namespaced","mutations","actions","context","setItem","commit","undefined","store","Store","modules","library","add","faEdit","faTimesCircle","faUndo","faSave","component","FontAwesomeIcon","config","productionTip","el","template"],"mappings":"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","file":"static/js/app.99e8ceca42db4e52866c.js","sourcesContent":["const config = {\n  apiKey: 'AIzaSyDeQSrnOySw3Ws-PT1Isq_8-FeIS2B-PZw',\n  authDomain: 'vue-chat-room-11def.firebaseapp.com',\n  databaseURL: 'https://vue-chat-room-11def.firebaseio.com',\n  projectId: 'vue-chat-room-11def',\n  storageBucket: 'vue-chat-room-11def.appspot.com',\n  messagingSenderId: '249927196895'\n}\n\nwindow.firebase.initializeApp(config)\nconst database = window.firebase.database()\n\nexport const getDBRef = (documentName) => {\n  return database.ref(documentName)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/database.js","<template>\n  <div class=\"messages\" id=\"messages\">\n\n    <div v-if=\"!messagesList.length || !name\" class=\"messages__loader d-flex justify-content-center\">\n      <div class=\"spinner-border\" role=\"status\">\n        <span class=\"sr-only\">Loading...</span>\n      </div>\n    </div>\n\n    <div\n      v-else\n      :key=\"message.timestamp\"\n      class=\"message\"\n      v-bind:class=\"{isReply: message.name !== name, isSender: message.name === name}\"\n      v-for=\"message in messagesList\"\n    >\n      <div class=\"message__content\">\n        <span class=\"message__icon\" v-if=\"message.name !== name\">{{ message.name.charAt(0) }}</span>\n        <div v-bind:class=\"{edit: message.id === messageIdForEditMode}\" class=\"message__text\">\n          <span>\n            {{ message.text.trim() }}\n          </span>\n          <div v-if=\"message.name === name\" class=\"message__text-icons\">\n            <div v-if=\"message.id !== messageIdForEditMode\">\n              <font-awesome-icon\n                class=\"message__text-icon\"\n                icon=\"edit\"\n                v-on:click.prevent=\"openEditMessageMode({ id: message.id })\"\n              />\n              <font-awesome-icon\n                class=\"message__text-icon\"\n                icon=\"times-circle\"\n                v-on:click.prevent=\"deleteMessage({ id: message.id })\"\n              />\n            </div>\n            <div v-else>\n              <!--<font-awesome-icon-->\n              <!--class=\"message__text-icon\"-->\n              <!--icon=\"save\"-->\n              <!--v-on:click.prevent=\"saveEditedMessage({ id: message.id })\"-->\n              <!--/>-->\n              <font-awesome-icon\n                class=\"message__text-icon\"\n                icon=\"undo\"\n                v-on:click.prevent=\"cancelEditMessageMode({ id: message.id })\"\n              />\n            </div>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapMutations, mapState } from 'vuex'\nimport { getDBRef } from '../database'\n\nexport default {\n  name: 'Messages',\n  data () {\n    return {\n      messages: {}\n    }\n  },\n  computed: {\n    messagesList: function () {\n      return Object.values(this.messages).filter(message => message)\n    },\n    ...mapState({\n      messageIdForEditMode: state => state.messageForm.id,\n      name: state => state.auth.name\n    })\n  },\n  methods: {\n    ...mapMutations('messageForm', ['updateFormData', 'resetFormData']),\n\n    deleteMessage: function ({ id }) {\n      getDBRef('messages').child(id).remove()\n    },\n\n    openEditMessageMode: function ({ id }) {\n      this.updateFormData({\n        text: this.messages[id].text,\n        id: id\n      })\n\n      document.getElementById('message-form-input').focus()\n    },\n\n    cancelEditMessageMode: function () {\n      this.resetFormData()\n    }\n  },\n  created () {\n    getDBRef('messages').on('child_added', (snapshot) => {\n      this.messages = { ...this.messages, [snapshot.key]: { ...snapshot.val(), id: snapshot.key } }\n      setTimeout(() => {\n        const messagesEl = document.getElementById('messages')\n        messagesEl.scrollTop = messagesEl.scrollHeight\n      }, 100)\n    })\n    getDBRef('messages').on('child_changed', (snapshot) => {\n      this.messages = { ...this.messages, [snapshot.key]: { ...snapshot.val(), id: snapshot.key } }\n    })\n    getDBRef('messages').on('child_removed', (snapshot) => {\n      this.messages = { ...this.messages, [snapshot.key]: null }\n    })\n  }\n}\n</script>\n\n<style scoped>\n  .messages {\n    height: calc(100vh - 500px);\n    border: 1px solid #c1c1c1;\n    border-radius: 5px;\n    padding: 10px;\n    display: flex;\n    flex-direction: column;\n    overflow-y: auto;\n  }\n\n  .messages__loader {\n    align-items: center;\n    flex-grow: 1;\n  }\n\n  .message {\n    font-weight: bold;\n    margin-bottom: 5px;\n  }\n\n  .message__text {\n    padding: 5px 20px;\n    border-radius: 30px;\n    margin-bottom: 0;\n    max-width: 75%;\n    display: flex;\n    flex-wrap: nowrap;\n    align-items: center;\n  }\n\n  .message__text > span {\n    text-align: left;\n  }\n\n  .message.isSender .message__text {\n    background-color: #0099FF;\n    margin-left: auto;\n    color: white;\n  }\n\n  .message.isSender .message__text.edit {\n    background-color: orangered;\n  }\n\n  .message.isReply .message__text {\n    background-color: #ffdd82;\n    color: #002c49;\n    margin-right: auto;\n  }\n\n  .message__content {\n    display: flex;\n    align-items: center;\n  }\n\n  .message__icon {\n    padding: 5px;\n    border-radius: 50%;\n    background-color: pink;\n    width: 30px;\n    height: 30px;\n    margin-right: 5px;\n  }\n\n  .message__text-icons {\n    margin-left: 10px;\n    display: flex;\n    width: 50px;\n  }\n\n  .message__text-icon {\n    cursor: pointer;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Messages.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"messages\",attrs:{\"id\":\"messages\"}},[(!_vm.messagesList.length || !_vm.name)?_c('div',{staticClass:\"messages__loader d-flex justify-content-center\"},[_vm._m(0)]):_vm._l((_vm.messagesList),function(message){return _c('div',{key:message.timestamp,staticClass:\"message\",class:{isReply: message.name !== _vm.name, isSender: message.name === _vm.name}},[_c('div',{staticClass:\"message__content\"},[(message.name !== _vm.name)?_c('span',{staticClass:\"message__icon\"},[_vm._v(_vm._s(message.name.charAt(0)))]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"message__text\",class:{edit: message.id === _vm.messageIdForEditMode}},[_c('span',[_vm._v(\"\\n          \"+_vm._s(message.text.trim())+\"\\n        \")]),_vm._v(\" \"),(message.name === _vm.name)?_c('div',{staticClass:\"message__text-icons\"},[(message.id !== _vm.messageIdForEditMode)?_c('div',[_c('font-awesome-icon',{staticClass:\"message__text-icon\",attrs:{\"icon\":\"edit\"},on:{\"click\":function($event){$event.preventDefault();return _vm.openEditMessageMode({ id: message.id })}}}),_vm._v(\" \"),_c('font-awesome-icon',{staticClass:\"message__text-icon\",attrs:{\"icon\":\"times-circle\"},on:{\"click\":function($event){$event.preventDefault();return _vm.deleteMessage({ id: message.id })}}})],1):_c('div',[_c('font-awesome-icon',{staticClass:\"message__text-icon\",attrs:{\"icon\":\"undo\"},on:{\"click\":function($event){$event.preventDefault();return _vm.cancelEditMessageMode({ id: message.id })}}})],1)]):_vm._e()])])])})],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"spinner-border\",attrs:{\"role\":\"status\"}},[_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Loading...\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-53eedfa7\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Messages.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-53eedfa7\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Messages.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Messages.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Messages.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-53eedfa7\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Messages.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-53eedfa7\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Messages.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"new-message\">\n    <form v-on:submit.prevent=\"handleFormSubmit\">\n      <div class=\"form-group\">\n        <textarea\n          v-on:keypress=\"handleInputKeypress\"\n          id=\"message-form-input\"\n          v-model=\"text\"\n          class=\"form-control\"\n          placeholder=\"Your message\"\n          rows=\"3\">\n        </textarea>\n      </div>\n      <button type=\"submit\" class=\"btn btn-primary\">{{ id ? 'Update' : 'Send New' }} Message</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapMutations } from 'vuex'\nimport { getDBRef } from '../database'\n\nexport default {\n  name: 'NewMessage',\n  computed: {\n    ...mapState({\n      id: state => state.messageForm.id,\n      name: state => state.auth.name\n    }),\n    text: {\n      get () {\n        return this.$store.state.messageForm.text\n      },\n      set (value) {\n        this.updateFormData({ text: value, id: this.id })\n      }\n    }\n  },\n  methods: {\n    ...mapMutations('messageForm', ['updateFormData', 'resetFormData']),\n\n    saveNewMessage: function () {\n      getDBRef('messages').push({\n        name: this.name,\n        text: this.text,\n        timestamp: Date.now()\n      }, (error) => {\n        if (error) {\n          throw new Error('Can not send the message')\n        }\n        this.resetFormData()\n      })\n    },\n\n    updateMessage: function () {\n      getDBRef('messages').child(this.id).update({\n        text: this.text,\n        updatedAt: Date.now()\n      }, (error) => {\n        if (error) {\n          throw new Error('Can not update the message')\n        }\n        this.resetFormData()\n      })\n    },\n\n    handleInputKeypress: function (event) {\n      if (event.key === 'Enter') {\n        this.handleFormSubmit()\n      }\n    },\n\n    handleFormSubmit: function () {\n      this.id ? this.updateMessage() : this.saveNewMessage()\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n  .new-message {\n    margin-top: 10px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/NewMessage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"new-message\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.handleFormSubmit($event)}}},[_c('div',{staticClass:\"form-group\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.text),expression:\"text\"}],staticClass:\"form-control\",attrs:{\"id\":\"message-form-input\",\"placeholder\":\"Your message\",\"rows\":\"3\"},domProps:{\"value\":(_vm.text)},on:{\"keypress\":_vm.handleInputKeypress,\"input\":function($event){if($event.target.composing){ return; }_vm.text=$event.target.value}}})]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(_vm._s(_vm.id ? 'Update' : 'Send New')+\" Message\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-aa169fc4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/NewMessage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-aa169fc4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./NewMessage.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NewMessage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NewMessage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-aa169fc4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./NewMessage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-aa169fc4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/NewMessage.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <div class=\"main-icon\"></div>\n    <Messages/>\n    <NewMessage/>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex'\nimport swal from 'sweetalert2'\nimport Messages from './components/Messages'\nimport NewMessage from './components/NewMessage'\nimport { localStorageNameKey } from './const'\n\nexport default {\n  name: 'App',\n  components: {\n    Messages,\n    NewMessage\n  },\n  methods: {\n    ...mapActions('auth', ['auth', 'setName'])\n  },\n  created () {\n    if (!localStorage.getItem(localStorageNameKey)) {\n      swal.fire({\n        title: 'Please provide your name',\n        input: 'text',\n        inputValue: '',\n        inputValidator: (value) => {\n          return !value && 'Please use some name'\n        }\n      }).then(response => {\n        this.setName(response.value)\n      })\n    }\n  }\n}\n</script>\n\n<style>\n.main-icon {\n  background-image: URL('https://homkin.ru/wp-content/uploads/2018/06/pig27.jpg');\n  background-repeat: no-repeat;\n  background-size: 402px;\n  background-position: center;\n  width: 250px;\n  height: 250px;\n  border-radius: 50%;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: 10px;\n}\n\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  width: 75%;\n  min-width: 450px;\n  margin: 60px auto 0 auto;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","export const localStorageNameKey = 'slaym-chat-name'\n\n\n\n// WEBPACK FOOTER //\n// ./src/const.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"main-icon\"}),_vm._v(\" \"),_c('Messages'),_vm._v(\" \"),_c('NewMessage')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1aca000d\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1aca000d\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1aca000d\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport { localStorageNameKey } from '../../const'\n\nVue.use(Vuex)\n\nconst state = {\n  name: localStorage.getItem(localStorageNameKey)\n}\n\nconst mutations = {\n  setName (state, name) {\n    state.name = name\n  }\n}\n\nconst actions = {\n  setName (context, name) {\n    localStorage.setItem(localStorageNameKey, name)\n    context.commit('setName', name)\n  }\n}\n\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/auth.js","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nconst state = {\n  text: '',\n  id: undefined\n}\n\nconst mutations = {\n  updateFormData (state, { text, id }) {\n    state.text = text\n    state.id = id\n  },\n\n  resetFormData (state) {\n    state.text = ''\n    state.id = ''\n  }\n}\n\nexport default {\n  namespaced: true,\n  state,\n  mutations\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/messageForm.js","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport auth from './modules/auth'\nimport messageForm from './modules/messageForm'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  modules: {\n    auth,\n    messageForm\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { faEdit, faTimesCircle, faUndo, faSave } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'\nimport App from './App'\nimport store from './store'\n\nlibrary.add(faEdit)\nlibrary.add(faTimesCircle)\nlibrary.add(faUndo)\nlibrary.add(faSave)\n\nVue.component('font-awesome-icon', FontAwesomeIcon)\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>',\n  store\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}